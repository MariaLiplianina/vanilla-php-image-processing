<?php

declare(strict_types=1);

namespace App\Tests\Modules\Image\Application\Processor;

use App\Modules\Image\Application\Helper\FileHelper;
use App\Modules\Image\Application\Processor\RasterProcessor;
use PHPUnit\Framework\TestCase;

final class RasterProcessorTest extends TestCase
{
    private const FILENAME = 'example.png';
    private const INVALID_FILENAME = 'invalid_file_name.png';
    private const FILE_CONTENT = '<img src="data:image/png;base64,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">';
    private const WIDTH = 10;
    private const HEIGHT = 20;

    public function testShow(): void
    {
        $processor = new RasterProcessor();
        $fileData = $processor->show(self::FILENAME);

        self::assertSame(self::FILENAME, $fileData->fileName);
        self::assertSame(self::FILE_CONTENT, $fileData->content);
    }

    public function testShowError(): void
    {
        $processor = new RasterProcessor();

        $this->expectException(\Exception::class);
        $this->expectExceptionMessage('File not found');

        $processor->show(self::INVALID_FILENAME);

        self::assertTrue(true);
    }

    /**
     * @throws \ImagickException
     * @throws \Exception
     */
    public function testCrop(): void
    {
        $processor = new RasterProcessor();

        $newFileName = FileHelper::generateModifiedFileName(self::FILENAME, 'png');
        $processor->resize(self::FILENAME, $newFileName, self::HEIGHT, self::WIDTH);

        $fileData = $processor->show($newFileName);

        $image = new \Imagick(FileHelper::getPath($newFileName));

        self::assertSame($newFileName, $fileData->fileName);
        self::assertSame(self::WIDTH, $image->getImageWidth());
        self::assertSame(self::HEIGHT, $image->getImageHeight());
    }

    /**
     * @throws \ImagickException
     * @throws \Exception
     */
    public function testCropWithHeight(): void
    {
        $processor = new RasterProcessor();

        $image = new \Imagick(FileHelper::getPath(self::FILENAME));

        $newFileName = FileHelper::generateModifiedFileName(self::FILENAME, 'png');
        $processor->resize(self::FILENAME, $newFileName, self::HEIGHT);

        $fileData = $processor->show($newFileName);

        $croppedImage = new \Imagick(FileHelper::getPath($newFileName));

        self::assertSame($newFileName, $fileData->fileName);
        self::assertSame($image->getImageWidth(), $image->getImageWidth());
        self::assertSame(self::HEIGHT, $croppedImage->getImageHeight());
    }

    /**
     * @throws \ImagickException
     * @throws \Exception
     */
    public function testCropWithWidth(): void
    {
        $processor = new RasterProcessor();

        $image = new \Imagick(FileHelper::getPath(self::FILENAME));

        $newFileName = FileHelper::generateModifiedFileName(self::FILENAME, 'png');
        $processor->resize(self::FILENAME, $newFileName, null, self::WIDTH);

        $fileData = $processor->show($newFileName);

        $croppedImage = new \Imagick(FileHelper::getPath($newFileName));

        self::assertSame($newFileName, $fileData->fileName);
        self::assertSame(self::WIDTH, $croppedImage->getImageWidth());
        self::assertSame($image->getImageHeight(), $croppedImage->getImageHeight());
    }

    /**
     * @throws \ImagickException
     */
    public function testCropArgumentError(): void
    {
        $processor = new RasterProcessor();

        $this->expectException(\Exception::class);
        $this->expectExceptionMessage('Height or width must be provided');

        $newFileName = FileHelper::generateModifiedFileName(self::INVALID_FILENAME, 'png');
        $processor->crop(self::INVALID_FILENAME, $newFileName);

        self::assertTrue(true);
    }

    /**
     * @throws \ImagickException
     */
    public function testCropFileError(): void
    {
        $processor = new RasterProcessor();

        $this->expectException(\Exception::class);
        $this->expectExceptionMessage('File not found');

        $newFileName = FileHelper::generateModifiedFileName(self::INVALID_FILENAME, 'png');
        $processor->crop(self::INVALID_FILENAME, $newFileName, self::HEIGHT, self::WIDTH);

        self::assertTrue(true);
    }
}
